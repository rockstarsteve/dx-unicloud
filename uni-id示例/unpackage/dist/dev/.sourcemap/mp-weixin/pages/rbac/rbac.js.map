{"version":3,"sources":["uni-app:///main.js","webpack:///E:/dev/dx-unicloud/uni-id示例/pages/rbac/rbac.vue?01be","webpack:///E:/dev/dx-unicloud/uni-id示例/pages/rbac/rbac.vue?8672","webpack:///E:/dev/dx-unicloud/uni-id示例/pages/rbac/rbac.vue?1764","webpack:///E:/dev/dx-unicloud/uni-id示例/pages/rbac/rbac.vue?97cb","uni-app:///pages/rbac/rbac.vue","webpack:///E:/dev/dx-unicloud/uni-id示例/pages/rbac/rbac.vue?049e","webpack:///E:/dev/dx-unicloud/uni-id示例/pages/rbac/rbac.vue?1f5d"],"names":["createPage","Page"],"mappings":"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","file":"pages/rbac/rbac.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/rbac/rbac.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./rbac.vue?vue&type=template&id=0af43846&\"\nvar renderjs\nimport script from \"./rbac.vue?vue&type=script&lang=js&\"\nexport * from \"./rbac.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rbac.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/rbac/rbac.vue\"\nexport default component.exports","export * from \"-!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./rbac.vue?vue&type=template&id=0af43846&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.roleList, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = _vm.userRole.indexOf(item.role_id)\n    return {\n      $orig: $orig,\n      g0: g0\n    }\n  })\n\n  var l1 = _vm.__map(_vm.permissionList, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var g1 = _vm.currentRolePermission.indexOf(item.permission_id)\n    return {\n      $orig: $orig,\n      g1: g1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./rbac.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./rbac.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\n\t\t<view class=\"tips\">考虑到性能，登录操作时传入参数needPermission: true时，checkToken时才会返回Permission，否则只会返回role。Permission一般用于管理后台</view>\r\n\t\t<button type=\"default\" @tap=\"addPermission\">新增权限</button>\r\n\t\t<button type=\"default\" @tap=\"addRole\">新增角色</button>\r\n\t\t<view class=\"role-permission\">\r\n\t\t\t<scroll-view class=\"role-scroll\" scroll-y=\"true\">\r\n\t\t\t\t<view>角色列表</view>\r\n\t\t\t\t<checkbox-group @change=\"roleChange\">\r\n\t\t\t\t\t<view v-for=\"(item,index) in roleList\" :class=\"{act: currentRoleIndex === index}\" @click=\"selectRole(index)\" class=\"role-item\">\r\n\t\t\t\t\t\t<checkbox :value=\"item.role_id\" :checked=\"userRole.indexOf(item.role_id) > -1\" /><text>{{item.role_name}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</checkbox-group>\r\n\t\t\t</scroll-view>\r\n\t\t\t<scroll-view class=\"permission-scroll\" scroll-y=\"true\">\r\n\t\t\t\t<view>权限列表</view>\r\n\t\t\t\t<checkbox-group @change=\"permissionChange\">\r\n\t\t\t\t\t<view v-for=\"(item,index) in permissionList\" class=\"permission-item\">\r\n\t\t\t\t\t\t<checkbox :value=\"item.permission_id\" :checked=\"currentRolePermission.indexOf(item.permission_id) > -1\" /><text>{{item.permission_name}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</checkbox-group>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t<button type=\"default\" @tap=\"bindRole\">为用户绑定角色</button>\r\n\t\t<button type=\"default\" @tap=\"bindPermission\">为角色绑定权限</button>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\troleList: [],\r\n\t\t\t\tpermissionList: [],\r\n\t\t\t\tuserRole: [],\r\n\t\t\t\tcurrentRoleIndex: 0,\r\n\t\t\t\tcurrentRolePermission: []\r\n\t\t\t}\r\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.getRoleList()\n\t\t\tthis.getPermissionList()\n\t\t\tthis.getRoleByUid()\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tselectRole(index) {\r\n\t\t\t\tthis.currentRoleIndex = index\r\n\t\t\t\tconst currentRole = this.roleList[this.currentRoleIndex]\r\n\t\t\t\tif (!currentRole) {\r\n\t\t\t\t\tthis.currentRolePermission = []\r\n\t\t\t\t}\r\n\t\t\t\tthis.currentRolePermission = currentRole.permission\r\n\t\t\t},\r\n\t\t\troleChange(e) {\r\n\t\t\t\tthis.userRole = e.detail.value\r\n\t\t\t},\r\n\t\t\tpermissionChange(e) {\r\n\t\t\t\tthis.currentRolePermission = e.detail.value\r\n\t\t\t},\r\n\t\t\taddRole() {\r\n\t\t\t\tconst roleTag = Math.random().toString(32).substr(2)\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname: 'user-center',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'addRole',\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\troleID: 'r_id_' + roleTag,\r\n\t\t\t\t\t\t\troleName: 'r_name_' + roleTag,\r\n\t\t\t\t\t\t\tcomment: 'comment' + roleTag,\r\n\t\t\t\t\t\t\tpermission: []\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.result.code !== 0) {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tcontent: res.result.msg\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: '角色新增成功',\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.getRoleList()\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\tconsole.error(e)\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tcontent: '请求服务失败，请稍后再试'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\taddPermission() {\r\n\t\t\t\tconst permissionTag = Math.random().toString(32).substr(2)\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname: 'user-center',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'addPermission',\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tpermissionID: 'p_id_' + permissionTag,\r\n\t\t\t\t\t\t\tpermissionName: 'p_name_' + permissionTag,\r\n\t\t\t\t\t\t\tcomment: 'comment' + permissionTag\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.result.code !== 0) {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tcontent: res.result.msg\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: '权限新增成功',\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.getPermissionList()\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\tconsole.error(e)\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tcontent: '请求服务失败，请稍后再试'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tbindRole() {\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname: 'user-center',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'bindRole',\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\troleList: this.userRole,\r\n\t\t\t\t\t\t\t// 设置reset为true，整体覆盖。设置为false时增量更新role\r\n\t\t\t\t\t\t\treset: true,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.result.code !== 0) {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tcontent: res.result.msg\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: '角色绑定成功',\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.getRoleByUid()\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\tconsole.error(e)\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tcontent: '请求服务失败，请稍后再试'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tbindPermission() {\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname: 'user-center',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'bindPermission',\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\troleID: this.roleList[this.currentRoleIndex].role_id,\r\n\t\t\t\t\t\t\tpermissionList: this.currentRolePermission,\r\n\t\t\t\t\t\t\t// 设置reset为true，整体覆盖。设置为false时增量更新role\r\n\t\t\t\t\t\t\treset: true,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.result.code !== 0) {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tcontent: res.result.msg\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: '权限绑定成功',\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.getRoleList()\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\tconsole.error(e)\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tcontent: '请求服务失败，请稍后再试'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetRoleList() {\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname: 'user-center',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'getRoleList',\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\t\tlimit: 10000,\r\n\t\t\t\t\t\t\tneedTotal: false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.result.code !== 0) {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tcontent: res.result.msg\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.roleList = res.result.roleList\n\t\t\t\t\t\tthis.selectRole(this.currentRoleIndex)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\tconsole.error(e)\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tcontent: '请求服务失败，请稍后再试'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetPermissionList() {\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname: 'user-center',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'getPermissionList',\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\toffset: 0,\r\n\t\t\t\t\t\t\tlimit: 10000,\r\n\t\t\t\t\t\t\tneedTotal: false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.result.code !== 0) {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tcontent: res.result.msg\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.permissionList = res.result.permissionList\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\tconsole.error(e)\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tcontent: '请求服务失败，请稍后再试'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetRoleByUid() {\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname: 'user-center',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'getRoleByUid'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.result.code !== 0) {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tcontent: res.result.msg\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.userRole = res.result.role\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\tconsole.error(e)\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tcontent: '请求服务失败，请稍后再试'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.role-permission {\r\n\t\tdisplay: flex;\r\n\t\theight: 400px;\r\n\t\tmargin-bottom: 15px;\r\n\t}\r\n\r\n\t.role-scroll,\r\n\t.permission-scroll {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.role-item,\r\n\t.permission-item {\r\n\t\tpadding: 5px;\r\n\t}\r\n\r\n\t.role-item text,\r\n\t.permission-item text {\r\n\t\tdisplay: block;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\t.role-scroll .role-item {\n\t\tposition: relative;\n\t}\n\t\r\n\t.role-scroll .role-item.act::after {\n\t\tposition: absolute;\r\n\t\tcontent: \"→\";\n\t\tcolor: #007AFF;\n\t\tfont-size: 20px;\n\t\theight: 20px;\n\t\tline-height: 20px;\n\t\tright: 5px;\n\t\ttop: 50%;\n\t\tmargin-top: -10px;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./rbac.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\hbuild\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./rbac.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1603643848594\n      var cssReload = require(\"D:/hbuild/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}